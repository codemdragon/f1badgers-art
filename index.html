<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1Badgers Art | Gallery</title>

    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>

    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&family=Nunito:wght@400;600;700;800&display=swap"
        rel="stylesheet">

    <style>
        body {
            font-family: 'Nunito', sans-serif;
            background-color: #FFF0F5;
            /* Lavender Blush */
            overflow-x: hidden;
        }

        h1,
        h2,
        h3,
        h4,
        brand-font {
            font-family: 'Fredoka', sans-serif;
            /* Fun, rounded font but not comic sans */
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: #fff;
        }

        ::-webkit-scrollbar-thumb {
            background: #DB2777;
            /* Pink 600 */
            border-radius: 6px;
            border: 3px solid #fff;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #BE185D;
        }

        /* Animations */
        .fade-in {
            animation: fadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .sticker-pop {
            animation: pop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes pop {
            0% {
                transform: scale(0) rotate(-45deg);
            }

            100% {
                transform: scale(1) rotate(0deg);
            }
        }

        /* Blob Animation */
        @keyframes blob {
            0% {
                transform: translate(0, 0) scale(1);
            }

            33% {
                transform: translate(30px, -50px) scale(1.1);
            }

            66% {
                transform: translate(-20px, 20px) scale(0.9);
            }

            100% {
                transform: translate(0, 0) scale(1);
            }
        }

        .animate-blob {
            animation: blob 7s infinite alternate;
        }

        .animation-delay-2000 {
            animation-delay: 2s;
        }

        /* Spinner Animation */
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #FCE7F3;
            border-top: 5px solid #DB2777;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* Hover Shimmer */
        .hover-shimmer {
            position: relative;
            overflow: hidden;
        }

        .hover-shimmer::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(to bottom right,
                    rgba(255, 255, 255, 0) 0%,
                    rgba(255, 255, 255, 0.1) 50%,
                    rgba(255, 255, 255, 0) 100%);
            transform: rotate(45deg);
            transition: all 0.6s;
            opacity: 0;
        }

        .hover-shimmer:hover::after {
            left: 100%;
            top: 100%;
            opacity: 1;
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Loading Component ---
        const LoadingScreen = () => (
            <div className="fixed inset-0 bg-pink-50 z-[100] flex flex-col items-center justify-center">
                <div className="spinner mb-6 shadow-lg shadow-pink-200"></div>
                <div className="text-2xl font-[Fredoka] font-bold text-pink-600 animate-pulse">
                    Painting the world... üé®
                </div>
                <p className="text-pink-400 mt-2 font-medium">Getting everything ready for you!</p>
            </div>
        );

        // --- Icons as Components ---
        const HeartIcon = ({ filled }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill={filled ? "#EC4899" : "none"} stroke="#EC4899" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round">
                <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" />
            </svg>
        );

        const MenuIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#db2777" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"><line x1="4" y1="12" x2="20" y2="12" /><line x1="4" y1="6" x2="20" y2="6" /><line x1="4" y1="18" x2="20" y2="18" /></svg>
        );

        const XIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18" /><path d="m6 6 12 12" /></svg>
        );

        const CalendarIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="opacity-60"><rect width="18" height="18" x="3" y="4" rx="2" ry="2" /><line x1="16" y1="2" x2="16" y2="6" /><line x1="8" y1="2" x2="8" y2="6" /><line x1="3" y1="10" x2="21" y2="10" /></svg>
        );

        const BadgerLogo = ({ src }) => (
            src ? (
                <img src={src} alt="F1Badgers" className="w-10 h-10 rounded-full border-2 border-pink-300 shadow-lg object-cover" />
            ) : (
                <div className="bg-pink-500 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-xl shadow-lg border-2 border-pink-300">
                    F1
                </div>
            )
        );

        // --- Components ---

        const NavItem = ({ label, href, onClick }) => (
            <a
                href={href}
                onClick={onClick}
                className="block md:inline-block py-3 md:py-0 md:mx-4 text-gray-700 md:text-pink-600 font-bold text-xl hover:text-pink-500 transition-colors"
            >
                {label}
            </a>
        );

        const Header = ({ logo, title }) => {
            const [isMenuOpen, setIsMenuOpen] = useState(false);

            useEffect(() => {
                if (isMenuOpen) {
                    document.body.style.overflow = 'hidden';
                } else {
                    document.body.style.overflow = 'unset';
                }
            }, [isMenuOpen]);

            return (
                <>
                    <nav className="fixed w-full z-40 bg-white/90 backdrop-blur-md border-b-2 border-pink-100 shadow-sm">
                        <div className="container mx-auto px-6 py-4 flex justify-between items-center">
                            <div className="flex items-center gap-3 cursor-pointer group" onClick={() => window.scrollTo(0, 0)}>
                                <BadgerLogo src={logo} />
                                <span className="text-2xl font-bold text-gray-800 tracking-tight group-hover:text-pink-500 transition-colors font-[Fredoka]">{title || 'F1Badgers Art'}</span>
                            </div>

                            <div className="hidden md:flex items-center">
                                <NavItem label="Gallery" href="#gallery" />
                                <button className="ml-4 bg-yellow-400 hover:bg-yellow-500 text-black font-bold py-2 px-6 rounded-full shadow-[0_4px_0_rgb(202,138,4)] active:shadow-none active:translate-y-1 transition-all">
                                    Fun Zone
                                </button>
                            </div>

                            <button className="md:hidden text-pink-600 p-1 hover:bg-pink-50 rounded-lg transition-colors" onClick={() => setIsMenuOpen(true)}>
                                <MenuIcon />
                            </button>
                        </div>
                    </nav>

                    <div className={`fixed inset-0 z-50 transition-opacity duration-300 ${isMenuOpen ? 'opacity-100 pointer-events-auto' : 'opacity-0 pointer-events-none'}`}>
                        <div className="absolute inset-0 bg-black/40 backdrop-blur-sm" onClick={() => setIsMenuOpen(false)}></div>
                        <div className={`absolute top-0 right-0 h-full w-80 bg-white shadow-2xl transform transition-transform duration-300 ease-out flex flex-col p-8 border-l-4 border-pink-200 ${isMenuOpen ? 'translate-x-0' : 'translate-x-full'}`}>
                            <div className="flex justify-end mb-8">
                                <button onClick={() => setIsMenuOpen(false)} className="text-gray-500 hover:text-pink-600 transition-colors bg-gray-100 p-2 rounded-full">
                                    <XIcon />
                                </button>
                            </div>

                            <div className="space-y-6 text-center">
                                <div className="mb-8 transform rotate-3 inline-block">
                                    <div className="bg-pink-500 text-white px-6 py-2 rounded-xl font-[Fredoka] text-2xl shadow-lg">
                                        {title || 'F1Badgers'} üé®
                                    </div>
                                </div>
                                <NavItem label="Start" href="#" onClick={() => setIsMenuOpen(false)} />
                                <NavItem label="Gallery" href="#gallery" onClick={() => setIsMenuOpen(false)} />
                                <div className="pt-8 border-t border-gray-100">
                                    <p className="text-gray-400 text-sm">Thanks for visiting!</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </>
            );
        };

        const Hero = () => (
            <section className="pt-36 pb-20 px-6 bg-gradient-to-b from-pink-50 via-white to-white overflow-hidden">
                <div className="container mx-auto flex flex-col items-center text-center gap-8 relative">
                    <div className="absolute top-0 left-1/4 w-64 h-64 bg-yellow-200 rounded-full mix-blend-multiply filter blur-3xl opacity-60 animate-blob"></div>
                    <div className="absolute bottom-0 right-1/4 w-64 h-64 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-60 animate-blob animation-delay-2000"></div>

                    <div className="relative z-10 space-y-6 max-w-3xl fade-in">
                        <span className="inline-block px-6 py-2 rounded-full bg-white border-2 border-pink-200 text-pink-500 font-bold tracking-wide shadow-sm transform hover:scale-105 transition-transform cursor-default">
                            üëã Welcome to my Art World!
                        </span>
                        <h1 className="text-5xl md:text-7xl font-bold text-gray-800 leading-tight font-[Fredoka]">
                            Just having <span className="text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-yellow-500">FUN</span> with Art!
                        </h1>
                        <p className="text-xl md:text-2xl text-gray-600 font-medium">
                            Check out my drawings, cool clay stuff, and origami dragons.
                        </p>

                        <div className="pt-4">
                            <a href="#gallery" className="inline-block bg-pink-500 hover:bg-pink-600 text-white text-xl font-bold py-4 px-10 rounded-2xl shadow-[0_6px_0_#9d174d] hover:shadow-[0_3px_0_#9d174d] hover:translate-y-1 active:shadow-none active:translate-y-2 transition-all">
                                See the Cool Stuff üëá
                            </a>
                        </div>
                    </div>
                </div>
            </section>
        );

        const StickerSelector = ({ stickers, onSelect, onClose }) => (
            <div className="absolute bottom-14 left-0 bg-white p-4 rounded-2xl shadow-xl border-2 border-pink-200 flex flex-wrap gap-2 z-20 animate-fade-in w-72">
                {stickers.map((sticker, idx) => (
                    <button
                        key={idx}
                        onClick={() => onSelect(sticker)}
                        className="text-3xl hover:scale-125 hover:rotate-12 transition-transform p-1"
                        title="Stick this!"
                    >
                        {sticker.startsWith('data:image') ? <img src={sticker} className="w-8 h-8 object-contain" /> : sticker}
                    </button>
                ))}
            </div>
        );

        const ArtworkCard = ({ artwork, stickers, onLike, onAddSticker, onOpenLightbox }) => {
            const [showStickerMenu, setShowStickerMenu] = useState(false);

            return (
                <div className="bg-white rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl hover:shadow-pink-100 transition-all duration-300 border-2 border-gray-100 group relative fade-in">
                    <div className="relative h-72 overflow-hidden cursor-pointer bg-gray-100" onClick={() => onOpenLightbox(artwork)}>
                        <img
                            src={artwork.src}
                            alt={artwork.title}
                            className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                        />
                        <div className="absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                            <span className="bg-white/90 text-gray-800 px-4 py-2 rounded-full font-bold shadow-lg transform translate-y-4 group-hover:translate-y-0 transition-transform">üîç Zoom In</span>
                        </div>
                    </div>

                    <div className="p-6">
                        <div className="flex justify-between items-start mb-3">
                            <div className="flex-1 min-w-0 pr-2">
                                <h3 className="font-[Fredoka] font-bold text-gray-800 text-xl truncate">{artwork.title}</h3>
                                <div className="flex items-center gap-2 mt-1">
                                    <span className="inline-block bg-yellow-100 text-yellow-700 text-[10px] font-bold px-2 py-0.5 rounded-md">{artwork.theme}</span>
                                    {artwork.dateUploaded && (
                                        <div className="flex items-center gap-1 text-gray-400 text-[10px] font-bold">
                                            <CalendarIcon />
                                            {new Date(artwork.dateUploaded).toLocaleDateString()}
                                        </div>
                                    )}
                                </div>
                            </div>
                            <div className="flex items-center gap-1 bg-pink-100 px-3 py-1.5 rounded-full border border-pink-200">
                                <HeartIcon filled={true} />
                                <span className="text-pink-600 font-bold">{artwork.likes}</span>
                            </div>
                        </div>

                        <div className="bg-gray-50 rounded-xl p-3 min-h-[60px] mb-4 border border-dashed border-gray-300 flex flex-wrap gap-2 content-start overflow-hidden">
                            {artwork.stickers.length === 0 && <span className="text-sm text-gray-400 w-full text-center py-2">Add a sticker here! üëá</span>}
                            {artwork.stickers.map((s, i) => (
                                <span key={i} className="text-2xl sticker-pop cursor-default select-none hover:scale-125 transition-transform inline-block">
                                    {s.startsWith('data:image') ? <img src={s} className="w-8 h-8 object-contain" /> : s}
                                </span>
                            ))}
                        </div>

                        <div className="flex gap-3 relative">
                            <button
                                onClick={() => onLike(artwork.id)}
                                className="flex-1 flex items-center justify-center gap-2 py-3 rounded-2xl bg-white border-2 border-gray-200 hover:border-pink-400 hover:text-pink-500 text-gray-600 transition-all font-bold active:scale-95"
                            >
                                <HeartIcon filled={false} /> Love it!
                            </button>

                            <div className="relative">
                                <button
                                    onClick={() => setShowStickerMenu(!showStickerMenu)}
                                    className={`px-5 py-3 rounded-2xl border-2 font-bold transition-all active:scale-95 ${showStickerMenu ? 'bg-yellow-100 border-yellow-400 text-yellow-700' : 'bg-white border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 text-gray-600'}`}
                                >
                                    + Sticker
                                </button>
                                {showStickerMenu && (
                                    <>
                                        <div className="fixed inset-0 z-10" onClick={() => setShowStickerMenu(false)}></div>
                                        <StickerSelector
                                            stickers={stickers}
                                            onSelect={(s) => {
                                                onAddSticker(artwork.id, s);
                                                setShowStickerMenu(false);
                                            }}
                                            onClose={() => setShowStickerMenu(false)}
                                        />
                                    </>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const Lightbox = ({ artwork, onClose }) => {
            if (!artwork) return null;

            return (
                <div className="fixed inset-0 z-50 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in" onClick={onClose}>
                    <div className="bg-white p-3 md:p-4 rounded-3xl max-w-4xl max-h-[90vh] overflow-hidden relative shadow-2xl flex flex-col" onClick={e => e.stopPropagation()}>
                        <button
                            onClick={onClose}
                            className="absolute top-6 right-6 bg-white/80 hover:bg-white rounded-full p-2 shadow-lg z-10 transition-transform hover:scale-110 text-gray-800"
                        >
                            <XIcon />
                        </button>
                        <div className="overflow-auto rounded-2xl">
                            <img
                                src={artwork.src}
                                alt={artwork.title}
                                className="w-full h-auto object-contain rounded-xl"
                            />
                        </div>
                        <div className="mt-4 px-2 pb-2 text-center">
                            <h2 className="text-3xl font-[Fredoka] font-bold text-gray-800">{artwork.title}</h2>
                            <div className="flex items-center justify-center gap-3 mt-1">
                                <span className="text-gray-500 font-bold uppercase tracking-wide text-sm">{artwork.category}</span>
                                <span className="w-1.5 h-1.5 bg-gray-300 rounded-full"></span>
                                <span className="text-gray-400 font-bold text-sm">{artwork.dateUploaded && new Date(artwork.dateUploaded).toLocaleDateString()}</span>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const Gallery = ({ artworks, setArtworks, categories, stickerSet }) => {
            const [filter, setFilter] = useState('All');
            const [searchTerm, setSearchTerm] = useState('');
            const [selectedArt, setSelectedArt] = useState(null);

            const handleLike = (id) => {
                setArtworks(prev => prev.map(art =>
                    art.id === id ? { ...art, likes: art.likes + 1 } : art
                ));
            };

            const handleSticker = (id, sticker) => {
                setArtworks(prev => prev.map(art =>
                    art.id === id ? { ...art, stickers: [...art.stickers, sticker] } : art
                ));
            };

            const filteredArt = artworks.filter(art => {
                const matchesFilter = filter === 'All' || art.theme === filter;
                const matchesSearch = art.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    art.theme.toLowerCase().includes(searchTerm.toLowerCase());
                return matchesFilter && matchesSearch;
            });

            return (
                <section id="gallery" className="py-16">
                    <div className="container mx-auto px-6">
                        <div className="text-center mb-12">
                            <h2 className="text-4xl md:text-5xl font-bold text-gray-800 mb-4 font-[Fredoka]">My Art Collection</h2>
                            <p className="text-gray-500 text-lg font-medium mb-8">Click on the buttons to see different cool things!</p>

                            {/* Search Bar */}
                            <div className="max-w-md mx-auto mb-8 relative group">
                                <div className="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                    <svg className="w-5 h-5 text-pink-400 group-focus-within:text-pink-500 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2.5" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                                    </svg>
                                </div>
                                <input
                                    type="text"
                                    placeholder="Search for titles or topics..."
                                    value={searchTerm}
                                    onChange={(e) => setSearchTerm(e.target.value)}
                                    className="w-full pl-12 pr-4 py-4 bg-white border-2 border-pink-100 rounded-2xl focus:outline-none focus:border-pink-300 focus:ring-4 focus:ring-pink-50 transition-all font-medium text-gray-700 shadow-sm"
                                />
                            </div>

                            <div className="flex flex-wrap justify-center gap-3 mt-8">
                                {categories.map(f => (
                                    <button
                                        key={f}
                                        onClick={() => setFilter(f)}
                                        className={`px-6 py-3 rounded-xl text-lg font-bold transition-all border-b-4 active:border-b-0 active:translate-y-1 ${filter === f
                                            ? 'bg-pink-500 border-pink-700 text-white'
                                            : 'bg-white border-gray-200 text-gray-500 hover:border-pink-300 hover:text-pink-500'
                                            }`}
                                    >
                                        {f}
                                    </button>
                                ))}
                            </div>
                        </div>

                        <div className="grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-10">
                            {filteredArt.map(art => (
                                <ArtworkCard
                                    key={art.id}
                                    artwork={art}
                                    stickers={stickerSet}
                                    onLike={handleLike}
                                    onAddSticker={handleSticker}
                                    onOpenLightbox={setSelectedArt}
                                />
                            ))}
                        </div>

                        {filteredArt.length === 0 && (
                            <div className="text-center py-20 bg-white/50 rounded-3xl border-2 border-dashed border-gray-300">
                                <p className="text-2xl text-gray-400 font-bold">Nothing here yet! üé®</p>
                            </div>
                        )}
                    </div>

                    <Lightbox artwork={selectedArt} onClose={() => setSelectedArt(null)} />
                </section>
            );
        };

        const Footer = ({ title }) => (
            <footer className="bg-white border-t-2 border-pink-100 py-12 mt-12">
                <div className="container mx-auto px-6 text-center">
                    <h2 className="text-3xl font-[Fredoka] font-bold text-gray-800 mb-2">{title || 'F1Badgers Art'}</h2>
                    <p className="text-gray-500 font-medium">Created by F1Badgers üèéÔ∏è</p>
                    <p className="text-pink-300 text-sm mt-4">¬© {new Date().getFullYear()} All rights reserved</p>
                </div>
            </footer>
        );

        const App = () => {
            const [loading, setLoading] = useState(true);
            const [data, setData] = useState(null);
            const [artworks, setArtworks] = useState([]);

            useEffect(() => {
                const fetchData = async () => {
                    try {
                        const response = await fetch('db.json');
                        const json = await response.json();
                        setData(json);
                        setArtworks(json.artworks);
                        setTimeout(() => setLoading(false), 1500);
                    } catch (err) {
                        console.error("Failed to load data", err);
                        setLoading(false);
                    }
                };
                fetchData();
            }, []);

            if (loading) return <LoadingScreen />;

            return (
                <div className="min-h-screen flex flex-col">
                    <Header logo={data?.siteSettings?.logo} title={data?.siteSettings?.title} />
                    <main className="flex-grow">
                        <Hero />
                        <Gallery
                            artworks={artworks}
                            setArtworks={setArtworks}
                            categories={data?.categories || ['All']}
                            stickerSet={data?.stickers || []}
                        />
                    </main>
                    <Footer title={data?.siteSettings?.title} />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>
